<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Auto ColumnFiller 列填充 — WebCom Samples</title>
<script src="_base.js"></script>
</head>
<body>
<div class="page-wrap">
<h1>ACColumnFiller — 表格列批量填充</h1>
<p class="subtitle">为表格中的某一列值批量填充，点击列头触发弹窗，一次输入填满整列。</p>

<h2>1. 列批量填充</h2>
<div class="demo-block">
  <p style="font-size:.9em;color:#6b7280;margin-bottom:.6em">点击列标题中的「批量填充」按钮，可一次性填入整列值</p>
  <table style="border-collapse:collapse;width:100%">
    <thead>
      <tr style="background:#f1f5f9">
        <th style="padding:8px 12px;border:1px solid #ddd">姓名</th>
        <th style="padding:8px 12px;border:1px solid #ddd">
          部门
          <button style="font-size:.75em;margin-left:.4em;padding:1px 6px"
            data-component="columnfiller"
            data-columnfiller-selector="#col-table tbody td[data-col=dept] input">
            批量
          </button>
        </th>
        <th style="padding:8px 12px;border:1px solid #ddd">
          职级
          <button style="font-size:.75em;margin-left:.4em;padding:1px 6px"
            data-component="columnfiller"
            data-columnfiller-selector="#col-table tbody td[data-col=level] input">
            批量
          </button>
        </th>
        <th style="padding:8px 12px;border:1px solid #ddd">
          备注
          <button style="font-size:.75em;margin-left:.4em;padding:1px 6px"
            data-component="columnfiller"
            data-columnfiller-selector="#col-table tbody td[data-col=remark] input">
            批量
          </button>
        </th>
      </tr>
    </thead>
    <tbody id="col-table">
      <tr>
        <td style="padding:6px 10px;border:1px solid #ddd">Alice</td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="dept"><input type="text" style="width:80px" value="研发"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="level"><input type="text" style="width:60px" value="P5"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="remark"><input type="text" style="width:120px"></td>
      </tr>
      <tr>
        <td style="padding:6px 10px;border:1px solid #ddd">Bob</td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="dept"><input type="text" style="width:80px" value="产品"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="level"><input type="text" style="width:60px" value="P4"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="remark"><input type="text" style="width:120px"></td>
      </tr>
      <tr>
        <td style="padding:6px 10px;border:1px solid #ddd">Carol</td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="dept"><input type="text" style="width:80px" value="设计"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="level"><input type="text" style="width:60px" value="P5"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="remark"><input type="text" style="width:120px"></td>
      </tr>
      <tr>
        <td style="padding:6px 10px;border:1px solid #ddd">Diana</td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="dept"><input type="text" style="width:80px" value="研发"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="level"><input type="text" style="width:60px" value="P6"></td>
        <td style="padding:6px 10px;border:1px solid #ddd" data-col="remark"><input type="text" style="width:120px"></td>
      </tr>
    </tbody>
  </table>
</div>
<pre class="code-block">&lt;!-- 列头放一个批量填充触发器 --&gt;
&lt;th&gt;
  部门
  &lt;button
    data-component="columnfiller"
    data-columnfiller-selector="td[data-col=dept] input"&gt;
    批量
  &lt;/button&gt;
&lt;/th&gt;

&lt;!-- 列中每行对应的 input --&gt;
&lt;td data-col="dept"&gt;&lt;input type="text" name="dept"&gt;&lt;/td&gt;</pre>

<h2>data-* 属性说明</h2>
<table class="param-table">
  <tr><th>属性</th><th>说明</th></tr>
  <tr><td>data-columnfiller-selector</td><td>该列所有输入框的 CSS 选择器</td></tr>
</table>
<div class="note">
  <b>与 BatchFiller 的区别：</b>
  ACColumnFiller 针对单列的所有行填充（无需勾选），
  ACBatchFiller 针对选中的多行填充多个字段。
  两者均弹出对话框收集填充值后批量写入。
</div>
</div>

<script type="module">
import { ACComponent } from '../src/Auto/ACComponent.js';
import '../src/Auto/ACColumnFiller.js';
ACComponent.init(document.body);
</script>
</body>
</html>
